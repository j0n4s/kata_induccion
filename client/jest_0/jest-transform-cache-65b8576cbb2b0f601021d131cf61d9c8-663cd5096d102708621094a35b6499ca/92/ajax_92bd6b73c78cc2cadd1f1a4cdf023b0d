33e3e46f2a4f7b48a99c3e6b7138514c
function crearGrupo(parejas) {
  var contadorParejas = 0;
  var grupoParejas = [];
  var totalP1 = contadorTotalP1(parejas);
  var totalParejas = contadorTotalP2(parejas, totalP1);
  var empleados = [];
  var parejasRepresentadas = [];
  totalParejas.forEach(function (emp) {
    if (emp.index > 0) {
      for (i = 0; i < parejas.length; i++) {
        if (!inArray(i, parejasRepresentadas)) {
          if (parejas[i].p1 == emp.index || parejas[i].p2 == emp.index) {
            parejasRepresentadas.push(i);

            if (!inArray(emp.index, empleados) && emp.index > 0) {
              empleados.push(emp.index);
            }
          }
        }
      }
    }
  });
  return empleados;
}

function contadorTotalP1(parejas) {
  var grupoContadorParejas = [];

  for (i = 0; i < parejas.length; i++) {
    if (!isNaN(parseInt(parejas[i].p1)) && parseInt(parejas[i].p1) > 0) {
      iTemp = i;

      if (isNaN(parseInt(grupoContadorParejas[parejas[i].p1]))) {
        grupoContadorParejas[parejas[i].p1] = 0;
        iTemp = 0;
      } else {
        iTemp = i + 1;
      }

      for (j = iTemp; j < parejas.length; j++) {
        if (!isNaN(parseInt(parejas[i].p1)) && !isNaN(parseInt(parejas[j].p1))) {
          if (parseInt(parejas[i].p1) == parseInt(parejas[j].p1)) {
            grupoContadorParejas[parejas[i].p1] = 1 + parseInt(grupoContadorParejas[parejas[i].p1]);
          }
        }
      }
    }
  }

  return grupoContadorParejas;
}

function contadorTotalP2(parejas, grupoContadorParejas) {
  for (i = 0; i < parejas.length; i++) {
    if (!isNaN(parseInt(parejas[i].p2))) {
      iTemp = i;

      if (isNaN(parseInt(grupoContadorParejas[parejas[i].p2])) && parseInt(parejas[i].p1) > 0) {
        grupoContadorParejas[parejas[i].p2] = 0;
        iTemp = 0;
      } else {
        iTemp = i + 1;
      }

      for (j = iTemp; j < parejas.length; j++) {
        if (!isNaN(parseInt(parejas[i].p2)) && !isNaN(parseInt(parejas[j].p2))) {
          if (parseInt(parejas[i].p2) == parseInt(parejas[j].p2)) {
            grupoContadorParejas[parejas[i].p2] = 1 + parseInt(grupoContadorParejas[parejas[i].p2]);
          }
        }
      }
    }
  } //ORDENAR DE MAYOR A MENOR


  grupoContadorParejas = ordenarParejas(grupoContadorParejas);
  return grupoContadorParejas;
}

function ordenarParejas(grupoContadorParejas) {
  var grupoContadorParejas = grupoContadorParejas.map(function (el, i) {
    return {
      index: i,
      value: el
    };
  });
  grupoContadorParejas.sort(function (a, b) {
    return b.value - a.value;
  });
  return grupoContadorParejas;
}

function inArray(needle, haystack) {
  var length = haystack.length;

  for (var i = 0; i < length; i++) {
    if (haystack[i] == needle) return true;
  }

  return false;
}

module.exports.crearGrupo = crearGrupo;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFqYXguanMiXSwibmFtZXMiOlsiY3JlYXJHcnVwbyIsInBhcmVqYXMiLCJjb250YWRvclBhcmVqYXMiLCJncnVwb1BhcmVqYXMiLCJ0b3RhbFAxIiwiY29udGFkb3JUb3RhbFAxIiwidG90YWxQYXJlamFzIiwiY29udGFkb3JUb3RhbFAyIiwiZW1wbGVhZG9zIiwicGFyZWphc1JlcHJlc2VudGFkYXMiLCJmb3JFYWNoIiwiZW1wIiwiaW5kZXgiLCJpIiwibGVuZ3RoIiwiaW5BcnJheSIsInAxIiwicDIiLCJwdXNoIiwiZ3J1cG9Db250YWRvclBhcmVqYXMiLCJpc05hTiIsInBhcnNlSW50IiwiaVRlbXAiLCJqIiwib3JkZW5hclBhcmVqYXMiLCJtYXAiLCJlbCIsInZhbHVlIiwic29ydCIsImEiLCJiIiwibmVlZGxlIiwiaGF5c3RhY2siLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxVQUFULENBQW9CQyxPQUFwQixFQUE2QjtBQUN6QixNQUFJQyxlQUFlLEdBQUcsQ0FBdEI7QUFDQSxNQUFJQyxZQUFZLEdBQUcsRUFBbkI7QUFDQSxNQUFJQyxPQUFPLEdBQUdDLGVBQWUsQ0FBQ0osT0FBRCxDQUE3QjtBQUNBLE1BQUlLLFlBQVksR0FBR0MsZUFBZSxDQUFDTixPQUFELEVBQVVHLE9BQVYsQ0FBbEM7QUFDQSxNQUFJSSxTQUFTLEdBQUcsRUFBaEI7QUFDQSxNQUFJQyxvQkFBb0IsR0FBRyxFQUEzQjtBQUNBSCxFQUFBQSxZQUFZLENBQUNJLE9BQWIsQ0FBcUIsVUFBU0MsR0FBVCxFQUFjO0FBQy9CLFFBQUlBLEdBQUcsQ0FBQ0MsS0FBSixHQUFZLENBQWhCLEVBQW1CO0FBQ2YsV0FBS0MsQ0FBQyxHQUFHLENBQVQsRUFBWUEsQ0FBQyxHQUFHWixPQUFPLENBQUNhLE1BQXhCLEVBQWdDRCxDQUFDLEVBQWpDLEVBQXFDO0FBQ2pDLFlBQUksQ0FBQ0UsT0FBTyxDQUFDRixDQUFELEVBQUlKLG9CQUFKLENBQVosRUFBdUM7QUFD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QWxCbUQsQ0FtQnBEOzs7QUFDQUUsRUFBQUEsb0JBQW9CLEdBQUdLLGNBQWMsQ0FBQ0wsb0JBQUQsQ0FBckM7QUFDQSxTQUFPQSxvQkFBUDtBQUNIOztBQUVELFNBQVNLLGNBQVQsQ0FBd0JMLG9CQUF4QixFQUE4QztBQUMxQyxNQUFJQSxvQkFBb0IsR0FBR0Esb0JBQW9CLENBQUNNLEdBQXJCLENBQXlCLFVBQVNDLEVBQVQsRUFBYWIsQ0FBYixFQUFnQjtBQUNoRSxXQUFPO0FBQ0hELE1BQUFBLEtBQUssRUFBRUMsQ0FESjtBQUVIYyxNQUFBQSxLQUFLLEVBQUVEO0FBRkosS0FBUDtBQUlILEdBTDBCLENBQTNCO0FBTUFQLEVBQUFBLG9CQUFvQixDQUFDUyxJQUFyQixDQUEwQixVQUFTQyxDQUFULEVBQVlDLENBQVosRUFBZTtBQUNyQyxXQUFPQSxDQUFDLENBQUNILEtBQUYsR0FBVUUsQ0FBQyxDQUFDRixLQUFuQjtBQUNILEdBRkQ7QUFHQSxTQUFPUixvQkFBUDtBQUVIOztBQUVELFNBQVNKLE9BQVQsQ0FBaUJnQixNQUFqQixFQUF5QkMsUUFBekIsRUFBbUM7QUFDL0IsTUFBSWxCLE1BQU0sR0FBR2tCLFFBQVEsQ0FBQ2xCLE1BQXRCOztBQUNBLE9BQUssSUFBSUQsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR0MsTUFBcEIsRUFBNEJELENBQUMsRUFBN0IsRUFBaUM7QUFDN0IsUUFBSW1CLFFBQVEsQ0FBQ25CLENBQUQsQ0FBUixJQUFla0IsTUFBbkIsRUFBMkIsT0FBTyxJQUFQO0FBQzlCOztBQUNELFNBQU8sS0FBUDtBQUNIOztBQUNERSxNQUFNLENBQUNDLE9BQVAsQ0FBZWxDLFVBQWYsR0FBNEJBLFVBQTVCIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gY3JlYXJHcnVwbyhwYXJlamFzKSB7XG4gICAgdmFyIGNvbnRhZG9yUGFyZWphcyA9IDA7XG4gICAgdmFyIGdydXBvUGFyZWphcyA9IFtdO1xuICAgIHZhciB0b3RhbFAxID0gY29udGFkb3JUb3RhbFAxKHBhcmVqYXMpO1xuICAgIHZhciB0b3RhbFBhcmVqYXMgPSBjb250YWRvclRvdGFsUDIocGFyZWphcywgdG90YWxQMSk7XG4gICAgdmFyIGVtcGxlYWRvcyA9IFtdO1xuICAgIHZhciBwYXJlamFzUmVwcmVzZW50YWRhcyA9IFtdO1xuICAgIHRvdGFsUGFyZWphcy5mb3JFYWNoKGZ1bmN0aW9uKGVtcCkge1xuICAgICAgICBpZiAoZW1wLmluZGV4ID4gMCkge1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcmVqYXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoIWluQXJyYXkoaSwgcGFyZWphc1JlcHJlc2VudGFkYXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlamFzW2ldLnAxID09IGVtcC5pbmRleCB8fCBwYXJlamFzW2ldLnAyID09IGVtcC5pbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZWphc1JlcHJlc2VudGFkYXMucHVzaChpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW5BcnJheShlbXAuaW5kZXgsIGVtcGxlYWRvcykgJiYgZW1wLmluZGV4ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtcGxlYWRvcy5wdXNoKGVtcC5pbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZW1wbGVhZG9zO1xufVxuXG5mdW5jdGlvbiBjb250YWRvclRvdGFsUDEocGFyZWphcykge1xuICAgIHZhciBncnVwb0NvbnRhZG9yUGFyZWphcyA9IFtdO1xuICAgIGZvciAoaSA9IDA7IGkgPCBwYXJlamFzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghaXNOYU4ocGFyc2VJbnQocGFyZWphc1tpXS5wMSkpICYmIHBhcnNlSW50KHBhcmVqYXNbaV0ucDEpID4gMCkge1xuICAgICAgICAgICAgaVRlbXAgPSBpO1xuICAgICAgICAgICAgaWYgKGlzTmFOKHBhcnNlSW50KGdydXBvQ29udGFkb3JQYXJlamFzW3BhcmVqYXNbaV0ucDFdKSkpIHtcbiAgICAgICAgICAgICAgICBncnVwb0NvbnRhZG9yUGFyZWphc1twYXJlamFzW2ldLnAxXSA9IDA7XG4gICAgICAgICAgICAgICAgaVRlbXAgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpVGVtcCA9IGkgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChqID0gaVRlbXA7IGogPCBwYXJlamFzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihwYXJzZUludChwYXJlamFzW2ldLnAxKSkgJiYgIWlzTmFOKHBhcnNlSW50KHBhcmVqYXNbal0ucDEpKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VJbnQocGFyZWphc1tpXS5wMSkgPT0gcGFyc2VJbnQocGFyZWphc1tqXS5wMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdydXBvQ29udGFkb3JQYXJlamFzW3BhcmVqYXNbaV0ucDFdID0gMSArIHBhcnNlSW50KGdydXBvQ29udGFkb3JQYXJlamFzW3BhcmVqYXNbaV0ucDFdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZ3J1cG9Db250YWRvclBhcmVqYXM7XG59XG5cbmZ1bmN0aW9uIGNvbnRhZG9yVG90YWxQMihwYXJlamFzLCBncnVwb0NvbnRhZG9yUGFyZWphcykge1xuICAgIGZvciAoaSA9IDA7IGkgPCBwYXJlamFzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghaXNOYU4ocGFyc2VJbnQocGFyZWphc1tpXS5wMikpKSB7XG4gICAgICAgICAgICBpVGVtcCA9IGk7XG4gICAgICAgICAgICBpZiAoaXNOYU4ocGFyc2VJbnQoZ3J1cG9Db250YWRvclBhcmVqYXNbcGFyZWphc1tpXS5wMl0pKSAmJiBwYXJzZUludChwYXJlamFzW2ldLnAxKSA+IDApIHtcbiAgICAgICAgICAgICAgICBncnVwb0NvbnRhZG9yUGFyZWphc1twYXJlamFzW2ldLnAyXSA9IDA7XG4gICAgICAgICAgICAgICAgaVRlbXAgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpVGVtcCA9IGkgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChqID0gaVRlbXA7IGogPCBwYXJlamFzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihwYXJzZUludChwYXJlamFzW2ldLnAyKSkgJiYgIWlzTmFOKHBhcnNlSW50KHBhcmVqYXNbal0ucDIpKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VJbnQocGFyZWphc1tpXS5wMikgPT0gcGFyc2VJbnQocGFyZWphc1tqXS5wMikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdydXBvQ29udGFkb3JQYXJlamFzW3BhcmVqYXNbaV0ucDJdID0gMSArIHBhcnNlSW50KGdydXBvQ29udGFkb3JQYXJlamFzW3BhcmVqYXNbaV0ucDJdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvL09SREVOQVIgREUgTUFZT1IgQSBNRU5PUlxuICAgIGdydXBvQ29udGFkb3JQYXJlamFzID0gb3JkZW5hclBhcmVqYXMoZ3J1cG9Db250YWRvclBhcmVqYXMpO1xuICAgIHJldHVybiBncnVwb0NvbnRhZG9yUGFyZWphcztcbn1cblxuZnVuY3Rpb24gb3JkZW5hclBhcmVqYXMoZ3J1cG9Db250YWRvclBhcmVqYXMpIHtcbiAgICB2YXIgZ3J1cG9Db250YWRvclBhcmVqYXMgPSBncnVwb0NvbnRhZG9yUGFyZWphcy5tYXAoZnVuY3Rpb24oZWwsIGkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGluZGV4OiBpLFxuICAgICAgICAgICAgdmFsdWU6IGVsXG4gICAgICAgIH07XG4gICAgfSlcbiAgICBncnVwb0NvbnRhZG9yUGFyZWphcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGIudmFsdWUgLSBhLnZhbHVlO1xuICAgIH0pXG4gICAgcmV0dXJuIGdydXBvQ29udGFkb3JQYXJlamFzO1xuXG59XG5cbmZ1bmN0aW9uIGluQXJyYXkobmVlZGxlLCBoYXlzdGFjaykge1xuICAgIHZhciBsZW5ndGggPSBoYXlzdGFjay5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaGF5c3RhY2tbaV0gPT0gbmVlZGxlKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxubW9kdWxlLmV4cG9ydHMuY3JlYXJHcnVwbyA9IGNyZWFyR3J1cG87Il19