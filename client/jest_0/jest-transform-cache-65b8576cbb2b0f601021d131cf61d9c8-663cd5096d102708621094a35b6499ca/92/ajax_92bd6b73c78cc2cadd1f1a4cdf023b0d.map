{"version":3,"sources":["ajax.js"],"names":["crearGrupo","parejas","contadorParejas","grupoParejas","totalP1","contadorTotalP1","totalParejas","contadorTotalP2","empleados","parejasRepresentadas","forEach","emp","index","i","length","inArray","p1","p2","push","grupoContadorParejas","isNaN","parseInt","iTemp","j","ordenarParejas","map","el","value","sort","a","b","needle","haystack","module","exports"],"mappings":"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","sourcesContent":["function crearGrupo(parejas) {\n    var contadorParejas = 0;\n    var grupoParejas = [];\n    var totalP1 = contadorTotalP1(parejas);\n    var totalParejas = contadorTotalP2(parejas, totalP1);\n    var empleados = [];\n    var parejasRepresentadas = [];\n    totalParejas.forEach(function(emp) {\n        if (emp.index > 0) {\n            for (i = 0; i < parejas.length; i++) {\n                if (!inArray(i, parejasRepresentadas)) {\n                    if (parejas[i].p1 == emp.index || parejas[i].p2 == emp.index) {\n                        parejasRepresentadas.push(i);\n                        if (!inArray(emp.index, empleados) && emp.index > 0) {\n                            empleados.push(emp.index);\n                        }\n                    }\n                }\n            }\n        }\n    });\n    return empleados;\n}\n\nfunction contadorTotalP1(parejas) {\n    var grupoContadorParejas = [];\n    for (i = 0; i < parejas.length; i++) {\n        if (!isNaN(parseInt(parejas[i].p1)) && parseInt(parejas[i].p1) > 0) {\n            iTemp = i;\n            if (isNaN(parseInt(grupoContadorParejas[parejas[i].p1]))) {\n                grupoContadorParejas[parejas[i].p1] = 0;\n                iTemp = 0;\n            } else {\n                iTemp = i + 1;\n            }\n            for (j = iTemp; j < parejas.length; j++) {\n                if (!isNaN(parseInt(parejas[i].p1)) && !isNaN(parseInt(parejas[j].p1))) {\n                    if (parseInt(parejas[i].p1) == parseInt(parejas[j].p1)) {\n                        grupoContadorParejas[parejas[i].p1] = 1 + parseInt(grupoContadorParejas[parejas[i].p1]);\n                    }\n                }\n            }\n        }\n    }\n    return grupoContadorParejas;\n}\n\nfunction contadorTotalP2(parejas, grupoContadorParejas) {\n    for (i = 0; i < parejas.length; i++) {\n        if (!isNaN(parseInt(parejas[i].p2))) {\n            iTemp = i;\n            if (isNaN(parseInt(grupoContadorParejas[parejas[i].p2])) && parseInt(parejas[i].p1) > 0) {\n                grupoContadorParejas[parejas[i].p2] = 0;\n                iTemp = 0;\n            } else {\n                iTemp = i + 1;\n            }\n            for (j = iTemp; j < parejas.length; j++) {\n                if (!isNaN(parseInt(parejas[i].p2)) && !isNaN(parseInt(parejas[j].p2))) {\n                    if (parseInt(parejas[i].p2) == parseInt(parejas[j].p2)) {\n                        grupoContadorParejas[parejas[i].p2] = 1 + parseInt(grupoContadorParejas[parejas[i].p2]);\n                    }\n                }\n            }\n        }\n    }\n    //ORDENAR DE MAYOR A MENOR\n    grupoContadorParejas = ordenarParejas(grupoContadorParejas);\n    return grupoContadorParejas;\n}\n\nfunction ordenarParejas(grupoContadorParejas) {\n    var grupoContadorParejas = grupoContadorParejas.map(function(el, i) {\n        return {\n            index: i,\n            value: el\n        };\n    })\n    grupoContadorParejas.sort(function(a, b) {\n        return b.value - a.value;\n    })\n    return grupoContadorParejas;\n\n}\n\nfunction inArray(needle, haystack) {\n    var length = haystack.length;\n    for (var i = 0; i < length; i++) {\n        if (haystack[i] == needle) return true;\n    }\n    return false;\n}\nmodule.exports.crearGrupo = crearGrupo;"]}